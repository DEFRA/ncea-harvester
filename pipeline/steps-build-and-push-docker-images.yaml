steps:

- task: Docker@2
  displayName: 'Docker Build'
  condition: and(succeeded(), eq(variables.isPullRequest, false))
  inputs:
    command: build
    containerRegistry: $(ACR.ServiceConnection)
    repository: $(ACR.ContainerRepository)
    tags: '$(Build.BuildNumber)$(artifactNameSuffix)'

- task: Docker@2
  displayName: 'Docker Push'
  condition: and(succeeded(), eq(variables.isPullRequest, false))
  inputs:
    command: push
    containerRegistry: $(ACR.ServiceConnection)
    repository: $(ACR.ContainerRepository)
    tags: '$(Build.BuildNumber)$(artifactNameSuffix)'